# Amazon SageMaker エンドポイントの Free Tier で利用可能なインスタンスについて

---

## 対象インスタンス
- **ml.t2.medium**
- **ml.t3.medium**

---

## Free Tier の条件

| 項目       | 内容                                      |
|------------|-----------------------------------------|
| 期間       | SageMakerを初めて利用する月から2ヶ月間   |
| 利用時間   | 250時間/月まで（合計500時間まで無料）    |
| 対象       | リアルタイム推論（Real-Time Inference）  |
| 対象ユーザー | SageMakerを初めて使用するAWSアカウント限定 |

---

## 重要なポイント
- **初回利用者限定**：SageMakerを初めて使うAWSアカウントが対象  
- **期間限定**：利用開始から2ヶ月間のみ適用  
- **時間制限**：月あたり250時間まで（合計500時間）  
- **対象インスタンスタイプ**：t2.mediumとt3.mediumのみ  

---

## 注意事項
- Free Tier期間終了後は通常料金が発生します  
- 本番環境ではワークロードに合った適切なインスタンスタイプを選択することが重要  
- 最新情報はAWS公式ドキュメントで必ず確認してください  

---

## 推奨事項
- テスト用途や小規模な推論ワークロードに適している  
- 本格的な本番利用前の検証環境として活用可能  
- パフォーマンス要件に応じて、他のインスタンスへの移行も検討してください  

---

ご不明点があればお気軽にご質問ください。

`ml.p3.2xlarge` インスタンスでSageMakerエンドポイントを1時間使った場合の料金は、地域にもよりますが概ね以下の通りです。

---

## 料金目安（2025年時点、東京リージョン例）

| インスタンス名       | GPU構成          | 時間あたり料金（オンデマンド） |
| ------------- | -------------- | --------------- |
| ml.p3.2xlarge | NVIDIA V100 ×1 | 約3.06～3.82 USD  |

---

### つまり

* **1時間あたり約3ドル〜4ドル程度**の課金が発生します。
* エンドポイントは起動している時間ずっと課金対象なので、使い終わったら必ず停止（削除）してください。

---

## 参考ポイント

* 料金はAWSの公式料金ページやリージョンによって若干変動します。
* Spotインスタンスなど割引プランは適用されません（オンデマンド料金ベース）。
* 推論リクエストの数には課金はなく、インスタンスの起動時間で課金されます。

# Amazon SageMaker エンドポイントの課金と起動時間、サーバーレス構成について

---

## エンドポイントの課金について

- **エンドポイントが稼働中のすべての時間が課金対象**です。
- リアルタイム推論エンドポイントを作成すると、実際にリクエストが来ていなくても、エンドポイントが `InService` 状態である間は継続的に課金されます。
- **課金はインスタンスタイプと稼働時間（秒単位）に基づいて行われます。**

### 課金に関するポイント

- **オートスケーリング**を設定している場合は、インスタンス数が増減しますが、増えたインスタンス分も稼働時間に応じて課金されます。
- **不要になったエンドポイントは明示的に削除しない限り課金が続きます。**
- 本番環境向けの常時待機型サービスのため、こうした課金体系となっています。
- 開発やテストで利用する場合は、使い終わったら必ずエンドポイントを削除しましょう。

---

## エンドポイント起動にかかる時間

- 一般的には **10分～20分程度**かかることが多いです。

### 起動時に行われる主な処理

1. **インスタンスのプロビジョニング**  
   EC2インスタンスが起動される

2. **モデルのロード**  
   S3などから学習済みモデルがダウンロードされメモリにロードされる（モデルサイズに依存）

3. **コンテナの起動**  
   推論用のDockerコンテナが起動

4. **ヘルスチェック**  
   コンテナが正常に動作しているか確認

- これらが完了して初めてエンドポイントが `InService` となり、推論リクエストを受け付けます。
- デプロイや更新の際はこの時間を考慮する必要があります。

---

## サーバーレス構成でのエンドポイント利用（SageMaker Serverless Inference）

- **SageMaker Serverless Inference**を使うとサーバーレス構成でエンドポイントが作成可能です。
- インフラ管理不要で自動スケールし、利用した分だけ課金されます。

### Serverless Inference の特徴

- **課金モデル**  
  リクエスト処理中のコンピュート時間とデータ処理量に対してのみ課金。  
  リクエストがない間はインスタンスがゼロになり課金なし。

- **コールドスタート**  
  一定時間リクエストがない後の初回リクエストで起動遅延（コールドスタート）が発生することがある。  
  低レイテンシが必須の用途には向かない場合がある。

- **利用シーン**  
  断続的・予測不能なトラフィック、開発・テスト環境、常時起動が不要なケースに特に有効。

---

ご質問があればお気軽にどうぞ。
